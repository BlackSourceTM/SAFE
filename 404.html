<!DOCTYPE html>
<html lang="en" dir="ltr" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>404 · Not Found — SAFE</title>

  <!-- استفاده از استایل اصلی سایت -->
  <link rel="stylesheet" href="styles.css">

  <!-- Inline CSS مخصوص صفحه 404 با تم سورس‌کد / هک -->
  <style>
    :root{
      --bg:#071018;
      --panel:#08131a;
      --muted:#8fa3b1;
      --neon-1:#00ffa3; /* neon green */
      --neon-2:#4dd7ff; /* cyan */
      --glass: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      --card-radius:14px;
    }

    html,body{height:100%}
    body{
      margin:0;
      min-height:100vh;
      background:radial-gradient(1200px 600px at 10% 10%, rgba(13,30,36,.28), transparent),
                 linear-gradient(180deg,var(--bg), #041019 140%);
      color:#dbeefb;
      font-family: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "SF Pro Text", "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      display:flex;
      flex-direction:column;
    }

    header.site-top{
      height:56px;
      display:flex;
      align-items:center;
      gap:12px;
      padding:0 20px;
      border-bottom:1px solid rgba(255,255,255,0.02);
      z-index:40;
      background:transparent;
    }
    .brand{display:flex;align-items:center;gap:10px}
    .brand img{width:36px;height:36px;border-radius:8px;object-fit:cover}
    .brand .name{font-weight:700}

    main.app{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
      position:relative;
      overflow:hidden;
    }

    /* کارت مرکزی */
    .panel{
      width:100%;
      max-width:1100px;
      display:grid;
      grid-template-columns: 1fr 420px;
      gap:26px;
      padding:26px;
      border-radius:var(--card-radius);
      background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
      border:1px solid rgba(77,119,133,0.06);
      box-shadow:0 10px 40px rgba(2,6,23,0.6);
      position:relative;
      z-index:20;
    }
    @media(max-width:980px){ .panel{grid-template-columns:1fr; padding:18px} }

    /* LEFT: message + terminal */
    .left{
      padding-right:8px;
      position:relative;
    }
    .big-code{
      font-weight:900;
      font-size:84px;
      line-height:1;
      margin:0;
      letter-spacing:1px;
      color:transparent;
      -webkit-text-stroke:1px rgba(0,255,163,0.06);
      position:relative;
    }
    .big-code::before{
      content:"404";
      position:absolute; inset:0;
      background: linear-gradient(90deg, var(--neon-1), var(--neon-2));
      -webkit-background-clip:text;
      background-clip:text;
      -webkit-text-fill-color:transparent;
      filter:drop-shadow(0 12px 40px rgba(0,255,163,0.06));
      animation:glow 3.8s ease-in-out infinite;
    }
    @keyframes glow{
      0%{filter:drop-shadow(0 6px 18px rgba(0,255,163,0.06))}
      50%{filter:drop-shadow(0 18px 60px rgba(0,255,163,0.11))}
      100%{filter:drop-shadow(0 6px 18px rgba(0,255,163,0.06))}
    }

    h1.title{margin:6px 0 10px;font-size:20px;color:#e8fbff}
    p.desc{color:var(--muted); margin:0 0 12px; max-width:720px}

    /* Terminal box with typing effect */
    .term{
      margin-top:16px;
      background:#02060a;
      border-radius:10px;
      padding:14px;
      font-family: "Source Code Pro", ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      font-size:13px;
      color:#b8fddc;
      border:1px solid rgba(0,255,163,0.06);
      box-shadow:0 8px 36px rgba(0,0,0,0.6), inset 0 -6px 24px rgba(0,0,0,0.45);
      overflow:hidden;
    }
    .term .line{white-space:pre-wrap;word-break:break-word}
    .term .prompt{color:var(--neon-1); font-weight:700}
    .term .muted{color:#6f8590; font-weight:500}

    /* small actions like webapp */
    .actions{display:flex;gap:12px;margin-top:14px;flex-wrap:wrap}
    .btn{
      display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:12px;border:none;cursor:pointer;font-weight:700;font-size:14px;
      background:transparent;color:var(--neon-2);backdrop-filter:blur(6px);transition:transform .12s ease, box-shadow .12s ease;
    }
    .btn--primary{
      background:linear-gradient(90deg, var(--neon-1), var(--neon-2));
      color:#001216;padding:10px 14px;
      box-shadow:0 8px 30px rgba(0,255,163,0.08);
    }
    .btn:active{transform:translateY(1px)}

    /* RIGHT: lock card + mini UI */
    .right{display:flex;flex-direction:column;gap:14px;align-items:stretch;justify-content:center}
    .lock-card{
      border-radius:12px;padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.015));
      border:1px solid rgba(77,119,133,0.04);
      display:flex;flex-direction:column;gap:12px;align-items:center;justify-content:center;min-height:200px;
      position:relative; overflow:visible;
    }

    /* Animated padlock */
    .padlock{
      width:92px;height:92px;border-radius:12px;background:linear-gradient(180deg,#001216,#062427);
      display:flex;align-items:center;justify-content:center;box-shadow:0 12px 30px rgba(0,0,0,0.6);
      border:1px solid rgba(255,255,255,0.03);
    }
    .padlock svg{width:56px;height:56px;transform-origin:center; transition:transform .36s cubic-bezier(.2,.9,.2,1)}
    .padlock.unlocking svg{transform:rotate(-8deg) scale(1.04)}
    .padlock .shimmer{
      position:absolute; inset:0; pointer-events:none; background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.12), rgba(255,255,255,0.03));
      transform:translateX(-120%); animation:shimmer 2.4s linear infinite;
    }
    @keyframes shimmer{ 100%{transform:translateX(120%)} }

    .lock-status{font-size:13px;color:var(--muted); text-align:center}
    .mini-ui{
      width:100%;
      border-radius:10px;
      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.02);
      padding:10px;
      display:flex;gap:10px;align-items:center;justify-content:space-between;
      font-size:13px;color:var(--muted);
    }

    /* Matrix rain canvas - behind panel */
    #matrixCanvas{
      position:absolute;
      inset:0;
      z-index:10;
      opacity:.06;
      mix-blend-mode:screen;
      pointer-events:none;
    }

    /* Decorative code snippets floating */
    .code-clip{
      position:absolute;
      right:18px; top:8px;
      font-family: "Source Code Pro", monospace;
      font-size:11px; color:rgba(77,255,170,0.12);
      background:rgba(0,0,0,0.06); padding:8px; border-radius:8px; border:1px solid rgba(77,255,170,0.03);
      transform:rotate(-6deg);
      display:none;
    }
    @media(min-width:1100px){ .code-clip{display:block} }

    /* accessibility */
    @media (prefers-reduced-motion: reduce){
      .big-code::before, .padlock .shimmer {animation:none}
      .term .cursor{display:none}
    }
  </style>
</head>
<body>
  <header class="site-top" role="banner" aria-label="Site header">
    <div class="brand" aria-hidden="true">
      <img src="avatar.png" alt="SAFE logo">
      <div>
        <div class="name">SAFE · E2Ebox</div>
        <div style="font-size:12px;color:var(--muted)">Secure file encryption — client-side</div>
      </div>
    </div>

    <div style="flex:1"></div>
    <nav style="display:flex;gap:8px;align-items:center">
      <a class="btn" href="/">Home</a>
      <a class="btn" href="/app">Open App</a>
      <a class="btn" href="/help">Help</a>
    </nav>
  </header>

  <main class="app" role="main" aria-labelledby="h404">
    <!-- matrix background -->
    <canvas id="matrixCanvas" aria-hidden="true"></canvas>

    <section class="panel" role="region" aria-label="404 panel">
      <div class="left" style="z-index:30">
        <div class="big-code" aria-hidden="true">404</div>
        <h1 id="h404" class="title">Page not found — resource missing</h1>
        <p class="desc">The resource you tried to reach does not exist on this server. It may have been moved, renamed or removed. Below is a diagnostic trace from our virtual guardian.</p>

        <div class="term" aria-live="polite" aria-atomic="false" id="terminal">
          <div class="line"><span class="prompt">> </span><span class="muted">init: checking routes...</span></div>
          <div class="line" id="typedLine"><span class="prompt">> </span><span class="typed"></span><span class="cursor">▌</span></div>
          <div class="line"><span class="prompt">> </span><span class="muted">trace:  /requested/path → 404</span></div>
          <div class="line"><span class="prompt">> </span><span class="muted">hint: try Home or Search — report if link is broken</span></div>
        </div>

        <div class="actions" role="toolbar" aria-label="Actions">
          <button class="btn btn--primary" onclick="location.href='/'" aria-label="Go home">Go Home</button>
          <button class="btn" onclick="openApp()">Open App</button>
          <button class="btn" onclick="contact()" aria-label="Contact support">Contact Support</button>
        </div>
      </div>

      <aside class="right" style="z-index:30" aria-hidden="false">
        <div class="lock-card" role="img" aria-label="Security status">
          <div class="padlock" id="padlock" aria-hidden="true">
            <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="12" y="26" width="40" height="26" rx="4" fill="url(#g)"/>
              <path d="M20 26v-6a12 12 0 1 1 24 0v6" stroke="rgba(255,255,255,0.06)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
              <defs>
                <linearGradient id="g" x1="0" x2="1">
                  <stop offset="0" stop-color="#002524"/>
                  <stop offset="1" stop-color="#07323a"/>
                </linearGradient>
              </defs>
            </svg>
            <div class="shimmer" aria-hidden="true"></div>
          </div>
          <div class="lock-status">Security: Client-side encryption active</div>
          <div class="mini-ui" role="group" aria-label="mini ui">
            <div style="display:flex;flex-direction:column">
              <div style="font-weight:700;color:#e9fff7">E2E Engine</div>
              <div style="font-size:12px;color:var(--muted)">Local only · zero-knowledge</div>
            </div>
            <div style="text-align:right">
              <div style="font-weight:800;color:var(--neon-1)">Locked</div>
              <div style="font-size:12px;color:var(--muted)">Status</div>
            </div>
          </div>
        </div>

        <div style="display:flex;gap:10px;justify-content:flex-end">
          <a class="btn" href="/sitemap.xml">Sitemap</a>
          <a class="btn" href="/report">Report</a>
        </div>
      </aside>

      <div class="code-clip" aria-hidden="true">
<pre>const path = "/requested/path";
if (!routes.has(path)) throw new NotFound();</pre>
      </div>
    </section>
  </main>

  <footer style="padding:14px 20px; font-size:13px; color:var(--muted); border-top:1px solid rgba(255,255,255,0.02); display:flex;justify-content:space-between">
    <div>© SAFE · E2Ebox — 2025</div>
    <div style="display:flex;gap:12px"><a href="/privacy" style="color:var(--muted)">Privacy</a><a href="/terms" style="color:var(--muted)">Terms</a></div>
  </footer>

  <!-- Optional: include site JS helpers if present -->
  <script src="ui_encrypt.js" defer></script>

  <!-- Inline JS: matrix, terminal typing, padlock micro-interaction -->
  <script>
    // MATRIX RAIN (lightweight)
    (function matrix(){
      const canvas = document.getElementById('matrixCanvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      let w, h, cols, ypos;
      function init(){
        w = canvas.width = innerWidth;
        h = canvas.height = innerHeight;
        cols = Math.floor(w / 14);
        ypos = Array(cols).fill(0).map(()=>Math.random()*h);
      }
      function draw(){
        ctx.fillStyle = 'rgba(0,0,0,0.06)';
        ctx.fillRect(0,0,w,h);
        ctx.fillStyle = 'rgba(0,255,163,0.12)';
        ctx.font = '12px monospace';
        for(let i=0;i<cols;i++){
          const text = String.fromCharCode(33 + Math.random()*60);
          ctx.fillText(text, i*14, ypos[i]);
          ypos[i] += 14 + Math.random()*6;
          if(ypos[i] > h + 100) ypos[i] = -20 - Math.random()*100;
        }
      }
      init();
      window.addEventListener('resize', init);
      let t = 0;
      function loop(){
        t++;
        if(t % 2 === 0) draw();
        requestAnimationFrame(loop);
      }
      loop();
    })();

    // Terminal typing simulation (safe & simple)
    (function typing(){
      const typedEl = document.querySelector('.typed');
      const cursor = document.querySelector('.cursor');
      if(!typedEl) return;
      const messages = [
        'probe: resolving host...',
        'probe: checking access control...',
        'probe: reading local config...',
        'probe: no route matched → 404'
      ];
      let mi = 0, ci = 0, forward = true;
      function step(){
        const msg = messages[mi];
        if(forward){
          typedEl.textContent = msg.slice(0, ++ci);
          if(ci === msg.length){ forward=false; setTimeout(step,700); return }
        } else {
          typedEl.textContent = msg.slice(0, --ci);
          if(ci === 0){ forward=true; mi = (mi+1) % messages.length; setTimeout(step,200); return }
        }
        setTimeout(step, 40 + Math.random()*30);
      }
      setTimeout(step, 600);
      // blink cursor
      setInterval(()=>{ if(cursor) cursor.style.opacity = cursor.style.opacity === '0' ? '1' : '0' }, 500);
    })();

    // Padlock micro-interaction: unlock when mouse enters panel, then relock
    (function padlock(){
      const pad = document.getElementById('padlock');
      if(!pad) return;
      let unlocked = false;
      const parent = pad.closest('.panel');
      parent?.addEventListener('mouseenter', ()=>{
        pad.classList.add('unlocking');
        unlocked = true;
        // after short time, animate back
        setTimeout(()=>{ pad.classList.remove('unlocking'); unlocked=false }, 1800);
      });
    })();

    // small helpers
    function openApp(){ location.href = '/app' }
    function contact(){ location.href = 'mailto:support@yourdomain.tld?subject=Support%20request%20404' }
  </script>
</body>
</html>
