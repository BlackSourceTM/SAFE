<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>E2Ebox SAFE โ Mini App</title>
  <meta
    name="description"
    content="E2Ebox SAFE โ ุฑูุฒูฺฏุงุฑ ู ุฑูุฒฺฏุดุง ุณุฑุชุงุณุฑ ูุงูโูุง ููุท ุฑู ุฏุณุชฺฏุงู ฺฉุงุฑุจุฑุ ุจุง ุงุณุชูุงุฏู ุงุฒ Web Crypto API."
  />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <header class="header">
      <div class="header__brand">
        <div class="logo-circle">S</div>
        <div class="header__titles">
          <h1 class="header__title" data-i18n="title">SAFE โ E2Ebox</h1>
          <p class="header__subtitle" data-i18n="subtitle">
            ุฑูุฒูฺฏุงุฑ ุณุฑุชุงุณุฑ ูุงูโูุง ููุท ุฑู ุฏุณุชฺฏุงู ุดูุง
          </p>
        </div>
      </div>
      <div class="header__actions">
        <button id="langToggle" class="btn btn--ghost btn--icon" type="button">
          <span id="langToggleLabel">FA</span>/<span>EN</span>
        </button>
        <button id="themeToggle" class="btn btn--ghost btn--icon" type="button">
          <span id="themeIcon">๐</span>
        </button>
      </div>
    </header>

    <main class="main">
      <!-- ูุนุฑู ฺฉูุชุงู -->
      <section class="hero">
        <h2 class="hero__title" data-i18n="hero_title">ูุณุฎูโ ุงููู Mini App SAFE</h2>
        <p class="hero__text" data-i18n="hero_text">
          ุฏุฑ ุงู ูุณุฎู ูโุชูุงูุฏ ูุงูโูุง ุฎูุฏ ุฑุง ุจู ุตูุฑุช ูุญู (ุจุฏูู ุงุฑุณุงู ุจู
          ุณุฑูุฑ) ุจุง ุงุณุชูุงุฏู ุงุฒ Web Crypto API ุฑูุฒูฺฏุงุฑ ู ุฑูุฒฺฏุดุง ฺฉูุฏ.
          ูุฑูุช ุฎุฑูุฌ <code>.SAFE</code> ุงุณุช.
        </p>
        <div class="hero__hint">
          <p data-i18n="hero_hint">
            โ๏ธ ุงู ูุณุฎู ูููุฒ ุจู ุฑุจุงุช ุชูฺฏุฑุงู ู Cloudflare Worker ูุชุตู ูุดุฏู ุงุณุช.
            ููู ฺุฒ ููุท ุฑู ุฏุณุชฺฏุงู ุดูุง ุงูุฌุงู ูโุดูุฏ.
          </p>
        </div>
      </section>

      <!-- ุงูุชุฎุงุจ ุญุงูุช Encrypt / Decrypt -->
      <section class="mode-switcher">
        <button
          class="mode-switcher__btn mode-switcher__btn--active"
          data-mode="encrypt"
          type="button"
          id="modeEncryptBtn"
          data-i18n="mode_encrypt"
        >
          ๐ ุฑูุฒูฺฏุงุฑ (Encrypt)
        </button>
        <button
          class="mode-switcher__btn"
          data-mode="decrypt"
          type="button"
          id="modeDecryptBtn"
          data-i18n="mode_decrypt"
        >
          ๐ ุฑูุฒฺฏุดุง (Decrypt)
        </button>
      </section>

      <!-- ูพูู ุงุตู ุนููุงุช -->
      <section class="panel">
        <!-- ุณุชูู ูุงู -->
        <div class="panel__column panel__column--file">
          <h3 class="panel__title" data-i18n="step1_title">ฑ. ุงูุชุฎุงุจ ูุงู</h3>
          <p class="panel__text" data-i18n="step1_text">
            ูโุชูุงูุฏ ูุงู ุฑุง ุงุฒ ุญุงูุธู ุฏุณุชฺฏุงู ุงูุชุฎุงุจ ฺฉูุฏ ุง ุฑู ุจุงฺฉุณ ุฒุฑ
            ุฏุฑุงูพ ฺฉูุฏ.
          </p>

          <label for="fileInput" class="file-input-label" data-i18n="choose_file">
            ุงูุชุฎุงุจ ูุงู
          </label>
          <input type="file" id="fileInput" class="file-input" />

          <div id="dropzone" class="dropzone">
            <p class="dropzone__icon">๐</p>
            <p class="dropzone__text" data-i18n="drop_here">
              ูุงู ุฎูุฏ ุฑุง ุงูุฌุง ุจฺฉุดุฏ ู ุฑูุง ฺฉูุฏ
            </p>
            <p class="dropzone__filename" id="selectedFileName" data-i18n="no_file">
              ูุงู ุงูุชุฎุงุจ ูุดุฏู ุงุณุช.
            </p>
          </div>

          <p class="panel__hint" data-i18n="size_hint">
            ูุญุฏูุฏุช ูพุดููุงุฏ ูุนู: ุญุฏุงฺฉุซุฑ ตฐฐ ูฺฏุงุจุงุช. ุจุฑุง ูุงูโูุง ุฎู
            ุจุฒุฑฺฏุ ุฏุฑ ูุณุฎูโูุง ุจุนุฏ ุงุฒ ุงุณุชุฑู ู ฺุงูฺฉ ุงุณุชูุงุฏู ูโฺฉูู.
          </p>
        </div>

        <!-- ุณุชูู ุฑูุฒ + ฺฉูพฺุง -->
        <div class="panel__column panel__column--password">
          <h3 class="panel__title" data-i18n="step2_title">ฒ. ุชูุธู ุฑูุฒ ุนุจูุฑ ู ฺฉูพฺุง</h3>
          <p class="panel__text" data-i18n="step2_text">
            ฺฉ ุฑูุฒ ุนุจูุฑ ูู ุงูุชุฎุงุจ ฺฉูุฏ. ุงู ุฑูุฒ ุฑู ุณุฑูุฑ ุฐุฎุฑู ููโุดูุฏ ู
            ููุท ุจุฑุง ูุดุชูโุณุงุฒ ฺฉูุฏ ุฏุฑ ุฏุณุชฺฏุงู ุดูุง ุงุณุชูุงุฏู ูโุดูุฏ.
          </p>

          <!-- ูุฑุญูู ฑ: ูุงุฑุฏ ฺฉุฑุฏู ุฑูุฒ ุงุตู -->
          <div class="field">
            <label for="passwordInput" class="field__label" data-i18n="password_label">
              ุฑูุฒ ุนุจูุฑ
            </label>
            <div class="field__input-wrapper">
              <input
                type="password"
                id="passwordInput"
                class="field__input"
                placeholder="ูุซูุงู: My$uperStr0ngP@ssw0rd"
                autocomplete="new-password"
              />
              <button
                type="button"
                class="field__icon-btn"
                id="passwordToggleBtn"
                aria-label="ููุงุด ูููุช ุฑูุฒ"
              >
                ๐
              </button>
            </div>
          </div>

          <button
            type="button"
            class="btn btn--outline field__step-btn"
            id="passwordNextBtn"
            data-i18n="password_next"
          >
            ูุฑุญูู ุจุนุฏ (ุชุงุฏ ุฑูุฒ)
          </button>

          <!-- ููุงุฑ ูุฏุฑุช ุฑูุฒ -->
          <div class="password-strength" id="passwordStrength">
            <div class="password-strength__bar">
              <div
                class="password-strength__fill"
                id="passwordStrengthFill"
              ></div>
            </div>
            <p class="password-strength__text" id="passwordStrengthText">
              ูุฏุฑุช ุฑูุฒ ุนุจูุฑ: ูุงูุดุฎุต
            </p>
          </div>

          <!-- ููุงูู ุฑูุฒ -->
          <ul class="password-rules">
            <li id="rule-length" class="password-rule">
              <span class="password-rule__icon">โ</span>
              <span class="password-rule__text" data-i18n="rule_length">
                ุญุฏุงูู ธ ฺฉุงุฑุงฺฉุชุฑ
              </span>
            </li>
            <li id="rule-digit" class="password-rule">
              <span class="password-rule__icon">โ</span>
              <span class="password-rule__text" data-i18n="rule_digit">
                ุญุฏุงูู ฺฉ ุนุฏุฏ
              </span>
            </li>
            <li id="rule-mixedcase" class="password-rule">
              <span class="password-rule__icon">โ</span>
              <span class="password-rule__text" data-i18n="rule_mixedcase">
                ุชุฑฺฉุจ ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุงูฺฏูุณ
              </span>
            </li>
            <li id="rule-special" class="password-rule">
              <span class="password-rule__icon">โ</span>
              <span class="password-rule__text" data-i18n="rule_special">
                ุญุฏุงูู ฺฉ ฺฉุงุฑุงฺฉุชุฑ ุฎุงุต (!@#$...)
              </span>
            </li>
            <li id="rule-english" class="password-rule">
              <span class="password-rule__icon">โ</span>
              <span class="password-rule__text" data-i18n="rule_english">
                ููุท ุญุฑูู/ุงุนุฏุงุฏ ุงูฺฏูุณ (ุจุฏูู ุญุฑูู ูุงุฑุณ ู ...)
              </span>
            </li>
          </ul>

          <!-- ูุฑุญูู ฒ: ุชุงุฏ ุฑูุฒ -->
          <div class="field field--inline field--confirm" id="confirmFieldContainer" hidden>
            <label
              class="field__label field__label--inline"
              for="passwordConfirmInput"
              data-i18n="password_confirm_label"
            >
              ุชฺฉุฑุงุฑ ุฑูุฒ ุนุจูุฑ
            </label>
            <div class="field__input-wrapper">
              <input
                type="password"
                id="passwordConfirmInput"
                class="field__input"
                placeholder="ุชฺฉุฑุงุฑ ุฑูุฒ ุจุฑุง ุงุทููุงู"
                autocomplete="new-password"
              />
              <button
                type="button"
                class="field__icon-btn"
                id="passwordConfirmToggleBtn"
                aria-label="ููุงุด ูููุช ุฑูุฒ ุชุงุฏ"
              >
                ๐
              </button>
            </div>
            <p class="field__hint" id="passwordMatchHint"></p>
          </div>

          <!-- ฺฉูพฺุง -->
          <div class="captcha">
            <div class="captcha__label-row">
              <span class="field__label" data-i18n="captcha_label">ฺฉูพฺุง (ุจุฑุง ุชุงุฏ ุงูุณุงู ุจูุฏู)</span>
              <button
                type="button"
                class="captcha__refresh-btn"
                id="captchaRefreshBtn"
                aria-label="ุชุบุฑ ฺฉูพฺุง"
              >
                โณ
              </button>
            </div>
            <div class="captcha__content">
              <div class="captcha__image" id="captchaText">AB12C</div>
              <input
                type="text"
                id="captchaInput"
                class="field__input captcha__input"
                placeholder="ฺฉุฏ ฺฉูพฺุง ุฑุง ูุงุฑุฏ ฺฉูุฏ"
                autocomplete="off"
              />
            </div>
          </div>

          <!-- ฺฉูพฺุงูุง ูุฎู ุจุฑุง ููุญุฑู ฺฉุฑุฏู ุฑุจุงุชโูุง -->
          <input
            type="text"
            id="botTrap"
            class="bot-trap"
            autocomplete="off"
            aria-hidden="true"
          />
        </div>
      </section>

      <!-- ุฏฺฉูู ุดุฑูุน ู ูุถุนุช -->
      <section class="actions">
        <button class="btn btn--primary actions__start-btn" id="startBtn" data-i18n="start_btn">
          ุดุฑูุน ุนููุงุช
        </button>
        <p class="actions__caption" id="currentModeText">
          ุญุงูุช ูุนู: ุฑูุฒูฺฏุงุฑ (Encrypt)
        </p>
      </section>

      <!-- ูพุดุฑูุช ู ูพุงูโูุง -->
      <section class="status" id="statusSection">
        <h3 class="status__title" data-i18n="status_title">ูุถุนุช ู ูุงฺฏ</h3>

        <div class="progress" id="progressContainer" hidden>
          <div class="progress__bar">
            <div class="progress__fill" id="progressFill"></div>
          </div>
          <p class="progress__text" id="progressText">
            ููุชุธุฑ ุดุฑูุน ุนููุงุช...
          </p>
        </div>

        <ul class="status__list" id="statusList">
          <li>๐ข ุฑุงุจุท ูุจ ุงุณุชุง ุขูุงุฏู ุงุณุช.</li>
          <li>๐ข ุฑูุฒูฺฏุงุฑ ู ุฑูุฒฺฏุดุง ูุญู ูุนุงู ุงุณุช.</li>
          <li>๐ก ุงุชุตุงู ุจู ุฑุจุงุช ุชูฺฏุฑุงู ู Worker ุฏุฑ ูุณุฎูโูุง ุจุนุฏ ุงุถุงูู ูโุดูุฏ.</li>
        </ul>
      </section>
    </main>

    <footer class="footer">
      <p class="footer__text" data-i18n="footer_main">
        SAFE โ E2Ebox | ุงู ูุณุฎู ููุท ุฑู ุฏุณุชฺฏุงู ุดูุง ฺฉุงุฑ ูโฺฉูุฏ ู ูุงู ุฎุงู ุฑุง
        ุจู ุณุฑูุฑ ุงุฑุณุงู ููโฺฉูุฏ.
      </p>
      <p class="footer__text footer__text--muted" data-i18n="footer_secondary">
        ุฏุฑ ูุณุฎูโูุง ุจุนุฏุ ุงุชุตุงู ุงูู ุจู ุฑุจุงุช ุชูฺฏุฑุงูุ Cloudflare Worker ู ูุฏุฑุช
        ุณููู ูุงูุงูู ุงุถุงูู ูโุดูุฏ.
      </p>
    </footer>
  </div>

  <!-- ููุฏุงู ูุฑฺฉุฒ ุจุฑุง ุฎุทุงูุง ุฌุฏ -->
  <div id="modalBackdrop" class="modal-backdrop" hidden>
    <div class="modal">
      <div class="modal__header">
        <h3 class="modal__title" id="modalTitle">ูพุงู ุณุณุชู</h3>
      </div>
      <div class="modal__body">
        <p id="modalMessage">ูุชู ูพุงู ุงูุฌุง ููุงุด ุฏุงุฏู ูโุดูุฏ.</p>
      </div>
      <div class="modal__footer">
        <button type="button" class="btn btn--primary" id="modalCloseBtn">
          ุจุงุดู
        </button>
      </div>
    </div>
  </div>

  <!-- <script src="https://telegram.org/js/telegram-web-app.js"></script> -->
  <script src="script.js"></script>
</body>
</html>
