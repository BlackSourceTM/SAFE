<!-- index.html -->
<!DOCTYPE html>
<html lang="fa" dir="rtl" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <title data-i18n="app_title">SAFE โ E2Ebox | Mini App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="SAFE โ E2Ebox: ุฑูุฒูฺฏุงุฑ ุณุฑุชุงุณุฑ ู ุงูู ูุงูโูุง ููุท ุฑู ุฏุณุชฺฏุงู ุดูุงุ ุจุฏูู ุงุฑุณุงู ฺฉูุฏ ุจู ุณุฑูุฑ.">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <!-- Header -->
    <header class="app-header">
      <div class="app-header__brand">
        <div class="brand-logo" aria-hidden="true">
          <img src="Avatar.png" alt="SAFE โ E2Ebox" class="brand-logo__img">
        </div>
        <div class="brand-text">
          <h1 class="brand-text__title" data-i18n="brand_title">
            SAFE โ E2Ebox
            <span class="brand-badge brand-badge--verified" aria-label="SAFE verified">
              <svg class="brand-badge__icon" viewBox="0 0 24 24" aria-hidden="true">
                <circle cx="12" cy="12" r="11" fill="#3390ec"></circle>
                <path d="M17.2 8.6 10.5 15.3 7 11.8 8.4 10.4 10.5 12.5 15.8 7.2z" fill="#ffffff"></path>
              </svg>
            </span>
          </h1>
          <p class="brand-text__subtitle" data-i18n="brand_subtitle">
            ุฑูุฒูฺฏุงุฑ ุณุฑุชุงุณุฑ ูุงูโูุง ููุท ุฑู ุฏุณุชฺฏุงู ุดูุง
          </p>
        </div>
      </div>

      <div class="app-header__actions">
        <div class="user-pill">
          <div class="user-pill__avatar" id="safeUserAvatar" aria-hidden="true"></div>
          <div class="user-pill__meta">
            <div class="user-pill__name" id="safeUserName">@username</div>
            <div class="user-pill__id" id="safeUserId">00000000</div>
          </div>
        </div>

        <button class="chip chip--ghost lang-toggle" type="button" aria-label="ุชุบุฑ ุฒุจุงู" data-i18n="lang_toggle">
          EN / FA
        </button>

        <button class="chip chip--icon theme-toggle" type="button" aria-label="ุชุบุฑ ุชู (ุฑูุดู / ุชุฑู)">
          <span class="theme-toggle__icon" aria-hidden="true"></span>
        </button>
      </div>
    </header>

    <!-- Hero -->
    <main class="app-main">
      <section class="hero">
        <div class="hero__content">
          <h2 class="hero__title typing-effect" data-i18n="hero_title">
            Mini App SAFE โ ุฑูุฒูฺฏุงุฑ ูุงูุน ุฑู ุฏุณุชฺฏุงู ุดูุง
          </h2>
          <p class="hero__subtitle" data-i18n="hero_subtitle">
            SAFE โ E2Ebox ฺฉ ููโุงูพ ุชุญุช ุชูฺฏุฑุงู ุงุณุช ฺฉู ูุงูโูุง ุดูุง ุฑุง ุชููุง ุฑู ุฏุณุชฺฏุงู ุฎูุฏุชุงู ุฑูุฒูฺฏุงุฑ ู ุฑูุฒฺฏุดุง ูโฺฉูุฏุ ุจุฏูู ุงุฑุณุงู ฺฉูุฏูุง ุจู ุณุฑูุฑ.
          </p>
        </div>
        <div class="hero__hint" role="status" data-i18n="hero_hint">
          โจ ุงู ุฑุงุจุท ฺฉุงุฑุจุฑ ููุท ุฑู ูุฑูุฑฺฏุฑ ุดูุง ุงุฌุฑุง ูโุดูุฏ. ููุทู ุฑูุฒูฺฏุงุฑุ ุงุชุตุงู ุจู ุฑุจุงุช ุชูฺฏุฑุงู ู ุณุฑูุฑ ุจุนุฏุงู ูุชุตู ูโุดููุฏ.
        </div>
      </section>

      <!-- Mode switch strip -->
      <section class="mode-strip" aria-label="ุงูุชุฎุงุจ ุญุงูุช" role="tablist">
        <div class="mode-switcher">
          <button
            class="mode-switcher__btn mode-switcher__btn--active"
            type="button"
            role="tab"
            aria-selected="true"
            data-mode="encrypt"
            data-i18n="mode_encrypt"
          >
            ุฑูุฒูฺฏุงุฑ ูุงู (Encrypt)
          </button>

          <button
            class="mode-switcher__btn"
            type="button"
            role="tab"
            aria-selected="false"
            data-mode="decrypt"
            data-i18n="mode_decrypt"
          >
            ุฑูุฒฺฏุดุง ูุงู (Decrypt)
          </button>

          <div class="mode-switcher__indicator" aria-hidden="true"></div>
        </div>
      </section>

      <!-- Panels -->
      <section class="panels">
        <!-- Encrypt panel -->
        <section
          class="panel panel--active"
          id="panel-encrypt"
          data-panel="encrypt"
          role="tabpanel"
          aria-labelledby="mode-encrypt"
        >
          <header class="panel__header">
            <h3 class="panel__title" data-i18n="encrypt_title">ุฑูุฒูฺฏุงุฑ ูุงู ุฌุฏุฏ</h3>
            <p class="panel__text" data-i18n="encrypt_text">
              ูุงู ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏุ ุฑูุฒ ุนุจูุฑ ูุฏุฑุชููุฏ ุชุนู ฺฉูุฏ ู ุฎุฑูุฌ .SAFE ุฑุง ุฐุฎุฑู ฺฉูุฏ. ุชูุงู ูุฑุงุญู ููุท ุฑู ุฏุณุชฺฏุงู ุดูุง ุงูุฌุงู ูโุดูุฏ.
            </p>
          </header>

          <div class="panel__grid">
            <!-- File select -->
            <article class="card card--glass">
              <header class="card__header">
                <h4 class="card__title" data-i18n="encrypt_file_card_title">ุงูุชุฎุงุจ ูุงู</h4>
                <p class="card__subtitle" data-i18n="encrypt_file_card_sub">
                  ูุงู ููุฑุฏูุธุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ุง ุจู ุงู ุจุฎุด ุจฺฉุดุฏ ู ุฑูุง ฺฉูุฏ.
                </p>
              </header>
              <div
                class="dropzone"
                role="button"
                tabindex="0"
                aria-label="ููุทูู ุงูุชุฎุงุจ ู ุฏุฑฺฏโูุฏุฑุงูพ ูุงู"
                aria-describedby="encryptDropzoneDescription encryptSelectedFile"
              >
                <div class="dropzone__icon" aria-hidden="true">๐</div>
                <p id="encryptDropzoneDescription" class="dropzone__text" data-i18n="encrypt_drop_help">
                  ุจุฑุง ุงูุชุฎุงุจ ูุงู ฺฉูฺฉ ฺฉูุฏ ุง ุขู ุฑุง ุงูุฌุง ุฑูุง ฺฉูุฏ.
                </p>
                <p
                  id="encryptSelectedFile"
                  class="dropzone__selected"
                  data-i18n="encrypt_drop_selected"
                  data-i18n-placeholder="encrypt_drop_selected"
                >
                  ูููุฒ ูุงู ุงูุชุฎุงุจ ูุดุฏู ุงุณุช.
                </p>
                <input
                  id="encryptFileInput"
                  class="dropzone__input"
                  type="file"
                  aria-hidden="true"
                  tabindex="-1"
                />
              </div>
              <p class="card__hint" data-i18n="encrypt_file_limit">
                ุญุฏุงฺฉุซุฑ ุญุฌู ูุฌุงุฒ ุฏุฑ ูุณุฎู ูุนู: ตฐฐ ูฺฏุงุจุงุช ุฏุฑ ูุงู (ูุนูุงู ุตุฑูุงู ููุงุด).
              </p>
            </article>

            <!-- Password + captcha -->
            <article class="card card--glass card--stacked">
              <header class="card__header">
                <h4 class="card__title" data-i18n="encrypt_password_card_title">ุชุนู ุฑูุฒ ุนุจูุฑ</h4>
                <p class="card__subtitle" data-i18n="encrypt_password_card_sub">
                  ุฑูุฒ ุงูุชุฎุงุจ ฺฉูุฏ ฺฉู ุญุฏุณโุฒุฏูุด ุจุฑุง ุฏฺฏุฑุงู ุบุฑููฺฉู ุจุงุดุฏุ ุงูุง ุฎูุฏุชุงู ูุฑุงููุดุด ูฺฉูุฏ.
                </p>
              </header>

              <div class="card__body card__body--stacked">
                <div class="field-group">
                  <label class="field-label" for="encryptPassword" data-i18n="password_label">
                    ุฑูุฒ ุนุจูุฑ ุงุตู
                  </label>
                  <div class="field-input-wrapper">
                    <input
                      id="encryptPassword"
                      class="field-input"
                      type="password"
                      inputmode="text"
                      autocomplete="new-password"
                      data-i18n-placeholder="password_placeholder"
                      placeholder="ฺฉ ุฑูุฒ ูู ูุงุฑุฏ ฺฉูุฏ..."
                    />
                    <button
                      type="button"
                      class="field-icon-btn field-icon-btn--magic"
                      id="generatePasswordBtn"
                      aria-label="ุชููุฏ ุฑูุฒ ูู"
                    >
                      โจ
                    </button>
                    <button
                      type="button"
                      class="field-icon-btn field-icon-btn--eye"
                      id="togglePasswordVisibility"
                      aria-label="ููุงุด ูููุช ุฑูุฒ"
                    >
                      ๐๏ธ
                    </button>
                  </div>
                  <div class="password-meter">
                    <div class="password-meter__bar" id="passwordStrengthBar"></div>
                  </div>
                  <ul class="password-rules" aria-live="polite">
                    <li class="password-rule" data-rule="len" data-i18n="rule_len">
                      ุญุฏุงูู ธ ฺฉุงุฑุงฺฉุชุฑ
                    </li>
                    <li class="password-rule" data-rule="digit" data-i18n="rule_digit">
                      ุญุฏุงูู ฺฉ ุนุฏุฏ
                    </li>
                    <li class="password-rule" data-rule="case" data-i18n="rule_case">
                      ุญุฑูู ฺฉูฺฺฉ ู ุจุฒุฑฺฏ ุงูฺฏูุณ
                    </li>
                    <li class="password-rule" data-rule="special" data-i18n="rule_special">
                      ุญุฏุงูู ฺฉ ฺฉุงุฑุงฺฉุชุฑ ูฺู
                    </li>
                    <li class="password-rule" data-rule="latin" data-i18n="rule_latin">
                      ููุท ุญุฑูู ู ุงุนุฏุงุฏ ุงูฺฏูุณ (ุจุฏูู ุญุฑูู ูุงุฑุณ ู ุณุงุฑ ุฒุจุงูโูุง)
                    </li>
                  </ul>
                  <p class="password-meter__hint" data-i18n="password_hint">
                    ุจุฑุง ุงุฏุงููุ ุฑูุฒ ุจุงุฏ ุญุฏุงูู ุจู ุณุทุญ ยซููยป ุจุฑุณุฏ.
                  </p>
                </div>

                <div class="field-group">
                  <label class="field-label" for="encryptPasswordConfirm" data-i18n="password_confirm_label">
                    ุชฺฉุฑุงุฑ ุฑูุฒ ุนุจูุฑ
                  </label>
                  <input
                    id="encryptPasswordConfirm"
                    class="field-input"
                    type="password"
                    inputmode="text"
                    autocomplete="new-password"
                    data-i18n-placeholder="password_confirm_placeholder"
                    placeholder="ุฑูุฒ ุนุจูุฑ ุฑุง ุฏูุจุงุฑู ูุงุฑุฏ ฺฉูุฏ..."
                  />
                  <p class="field-hint" id="passwordMatchHint" data-i18n="password_match_hint">
                    ุจุฑุง ุงุฏุงููุ ุฏู ุฑูุฒ ุจุงุฏ ฺฉุงููุงู ฺฉุณุงู ุจุงุดูุฏ.
                  </p>
                </div>

                <div class="field-group">
                  <label class="field-label" data-i18n="captcha_label">
                    ฺฉูพฺุง โ ุงุซุจุงุช ุงูุณุงู ุจูุฏู
                  </label>
                  <div class="captcha">
                    <div class="captcha__visual" id="captchaVisual" aria-hidden="true">
                      SAFE
                    </div>
                    <div class="captcha__controls">
                      <input
                        id="captchaInput"
                        class="field-input field-input--sm"
                        type="text"
                        inputmode="text"
                        autocomplete="off"
                        data-i18n-placeholder="captcha_placeholder"
                        placeholder="ฺฉุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ..."
                      />
                      <button
                        type="button"
                        class="btn btn--ghost btn--sm"
                        id="captchaRefreshBtn"
                        aria-label="ุจุงุฒุณุงุฒ ฺฉูพฺุง"
                      >
                        โป
                      </button>
                    </div>
                    <p class="field-hint" data-i18n="captcha_hint">
                      ฺฉูพฺุง ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฑุจุงุชโูุงุณุชุ ูพุงุณุฎ ุดูุง ุฏุฑ ุณุฑูุฑ ุฐุฎุฑู ููโุดูุฏ.
                    </p>
                  </div>
                </div>

                <div class="field-group field-group--submit">
                  <button
                    type="button"
                    class="btn btn--primary btn--lg"
                    id="startEncryptBtn"
                    data-i18n="encrypt_start_btn"
                  >
                    ุดุฑูุน ุฑูุฒูฺฏุงุฑ
                  </button>
                  <p class="field-hint field-hint--muted" id="encryptModeHint" data-i18n="encrypt_mode_hint">
                    ุญุงูุช ูุนู: ุฑูุฒูฺฏุงุฑ ูุงู ุฌุฏุฏ (.SAFE)
                  </p>
                </div>
              </div>
            </article>
          </div>

          <section class="progress-section" aria-live="polite">
            <header class="progress-header">
              <h4 class="progress-title" data-i18n="encrypt_progress_title">ูุถุนุช ุฑูุฒูฺฏุงุฑ</h4>
            </header>
            <div class="progress-bar">
              <div class="progress-bar__fill" id="encryptProgressBar"></div>
            </div>
            <p class="progress-status" id="encryptProgressStatus" data-i18n="encrypt_progress_status">
              ุฏุฑ ุงูุชุธุงุฑ ุดุฑูุน ุนููุงุช...
            </p>
          </section>
        </section>

        <!-- Decrypt panel -->
        <section
          class="panel"
          id="panel-decrypt"
          data-panel="decrypt"
          role="tabpanel"
          aria-labelledby="mode-decrypt"
          hidden
        >
          <header class="panel__header">
            <h3 class="panel__title" data-i18n="decrypt_title">ุฑูุฒฺฏุดุง ูุงู .SAFE</h3>
            <p class="panel__text" data-i18n="decrypt_text">
              ูุงู .SAFE ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏุ ุฑูุฒ ุนุจูุฑ ุฑุง ฺฉู ููฺฏุงู ุฑูุฒูฺฏุงุฑ ุชุนู ฺฉุฑุฏู ุจูุฏุฏ ูุงุฑุฏ ฺฉูุฏ ู
              ูุณุฎู ุงุตู ูุงู ุฑุง ุจุงุฒุงุจ ฺฉูุฏ.
            </p>
          </header>

          <div class="panel__grid">
            <!-- File select -->
            <article class="card card--glass">
              <header class="card__header">
                <h4 class="card__title" data-i18n="decrypt_file_card_title">ุงูุชุฎุงุจ ูุงู .SAFE</h4>
                <p class="card__subtitle" data-i18n="decrypt_file_card_sub">
                  ูุงู ุฎุฑูุฌ ุฑูุฒูฺฏุงุฑ (.SAFE) ุฑุง ุงุฒ ุฏุณุชฺฏุงู ุฎูุฏ ุงูุชุฎุงุจ ฺฉูุฏ.
                </p>
              </header>
              <div
                class="dropzone"
                role="button"
                tabindex="0"
                aria-label="ููุทูู ุงูุชุฎุงุจ ู ุฏุฑฺฏโูุฏุฑุงูพ ูุงู .SAFE"
                aria-describedby="decryptDropzoneDescription decryptSelectedFile"
              >
                <div class="dropzone__icon" aria-hidden="true">๐</div>
                <p id="decryptDropzoneDescription" class="dropzone__text" data-i18n="decrypt_drop_help">
                  ุจุฑุง ุงูุชุฎุงุจ ูุงู ฺฉูฺฉ ฺฉูุฏ ุง ุขู ุฑุง ุงูุฌุง ุฑูุง ฺฉูุฏ.
                </p>
                <p
                  id="decryptSelectedFile"
                  class="dropzone__selected"
                  data-i18n="decrypt_drop_selected"
                  data-i18n-placeholder="decrypt_drop_selected"
                >
                  ูููุฒ ูุงู ุงูุชุฎุงุจ ูุดุฏู ุงุณุช.
                </p>
                <input
                  id="decryptFileInput"
                  class="dropzone__input"
                  type="file"
                  accept=".SAFE,.safe"
                  aria-hidden="true"
                  tabindex="-1"
                />
              </div>
              <p class="card__hint" data-i18n="decrypt_file_hint">
                ุงฺฏุฑ ูุงู ุงุตู ุฑู ุฏุณุชฺฏุงู ุดูุง ูุณุชุ ููโุชูุงู ุขู ุฑุง ุจุงุฒุงุจ ฺฉุฑุฏ.
              </p>
            </article>

            <!-- Password + captcha -->
            <article class="card card--glass card--stacked">
              <header class="card__header">
                <h4 class="card__title" data-i18n="decrypt_password_card_title">ุฑูุฒ ุนุจูุฑ ุจุฑุง ุฑูุฒฺฏุดุง</h4>
                <p class="card__subtitle" data-i18n="decrypt_password_card_sub">
                  ุฑูุฒ ุฑุง ฺฉู ููฺฏุงู ุฑูุฒูฺฏุงุฑ ุงูุชุฎุงุจ ฺฉุฑุฏู ุจูุฏุฏุ ูุงุฑุฏ ฺฉูุฏ ุชุง ูุงู ุงุตู ุจุงุฒุงุจ ุดูุฏ.
                </p>
              </header>

              <div class="card__body card__body--stacked">
                <div class="field-group">
                  <label class="field-label" for="decryptPassword" data-i18n="decrypt_password_label">
                    ุฑูุฒ ุนุจูุฑ
                  </label>
                  <input
                    id="decryptPassword"
                    class="field-input"
                    type="password"
                    inputmode="text"
                    autocomplete="current-password"
                    data-i18n-placeholder="decrypt_password_placeholder"
                    placeholder="ุฑูุฒ ุนุจูุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ..."
                  />
                </div>

                <div class="field-group">
                  <label class="field-label" data-i18n="captcha_label">
                    ฺฉูพฺุง โ ุงุซุจุงุช ุงูุณุงู ุจูุฏู
                  </label>
                  <div class="captcha">
                    <div class="captcha__visual" id="captchaVisualDecrypt" aria-hidden="true">
                      SAFE
                    </div>
                    <div class="captcha__controls">
                      <input
                        id="captchaInputDecrypt"
                        class="field-input field-input--sm"
                        type="text"
                        inputmode="text"
                        autocomplete="off"
                        data-i18n-placeholder="captcha_placeholder"
                        placeholder="ฺฉุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ..."
                      />
                      <button
                        type="button"
                        class="btn btn--ghost btn--sm"
                        id="captchaRefreshBtnDecrypt"
                        aria-label="ุจุงุฒุณุงุฒ ฺฉูพฺุง"
                      >
                        โป
                      </button>
                    </div>
                    <p class="field-hint" data-i18n="captcha_hint">
                      ฺฉูพฺุง ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฑุจุงุชโูุงุณุชุ ูพุงุณุฎ ุดูุง ุฏุฑ ุณุฑูุฑ ุฐุฎุฑู ููโุดูุฏ.
                    </p>
                  </div>
                </div>

                <div class="field-group field-group--submit">
                  <button
                    type="button"
                    class="btn btn--primary btn--lg"
                    id="startDecryptBtn"
                    data-i18n="decrypt_start_btn"
                  >
                    ุดุฑูุน ุฑูุฒฺฏุดุง
                  </button>
                  <p class="field-hint field-hint--muted" id="decryptModeHint" data-i18n="decrypt_mode_hint">
                    ุญุงูุช ูุนู: ุฑูุฒฺฏุดุง ฺฉ ูุงู .SAFE
                  </p>
                </div>
              </div>
            </article>
          </div>

          <section class="progress-section" aria-live="polite">
            <header class="progress-header">
              <h4 class="progress-title" data-i18n="decrypt_progress_title">ูุถุนุช ุฑูุฒฺฏุดุง</h4>
            </header>
            <div class="progress-bar">
              <div class="progress-bar__fill" id="decryptProgressBar"></div>
            </div>
            <p class="progress-status" id="decryptProgressStatus" data-i18n="decrypt_progress_status">
              ุฏุฑ ุงูุชุธุงุฑ ุดุฑูุน ุนููุงุช...
            </p>
          </section>
        </section>
      </section>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
      <p class="app-footer__line" data-i18n="footer_line1">
        SAFE โ E2Ebox ยฉ 2025
      </p>
      <p class="app-footer__line app-footer__line--muted" data-i18n="footer_line2">
        ุชูุงู ูพุฑุฏุงุฒุดโูุง ููุท ุฑู ุฏุณุชฺฏุงู ุดูุง ุงูุฌุงู ูโุดูุฏุ ุจุฏูู ุฐุฎุฑูู ูุงู ุฎุงู ุง ฺฉูุฏ ุฑู ุณุฑูุฑ.
      </p>
    </footer>
  </div>

  <!-- Placeholder for future logic (do not implement in this task) -->
  <script src="script.js" defer></script>
</body>
</html>
